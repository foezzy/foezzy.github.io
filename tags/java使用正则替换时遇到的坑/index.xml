<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Java使用正则替换时遇到的坑 on Blog</title><link>https://foezzy.github.io/tags/java%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E6%9B%BF%E6%8D%A2%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/</link><description>Recent content in Java使用正则替换时遇到的坑 on Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 06 Mar 2020 19:45:20 +0000</lastBuildDate><atom:link href="https://foezzy.github.io/tags/java%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E6%9B%BF%E6%8D%A2%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/index.xml" rel="self" type="application/rss+xml"/><item><title>Java正则之坑</title><link>https://foezzy.github.io/posts/java%E6%AD%A3%E5%88%99%E4%B9%8B%E5%9D%91/</link><pubDate>Fri, 06 Mar 2020 19:45:20 +0000</pubDate><guid>https://foezzy.github.io/posts/java%E6%AD%A3%E5%88%99%E4%B9%8B%E5%9D%91/</guid><description>首先说明需求
有个xxx.api.abc.com需要替换成config.abc.com
这个是可以用正则做到的，如下
String oldUrl = &amp;#34;xxx.api.abc.com&amp;#34;; String newUrl = oldUrl.replaceAll(&amp;#34;.*\.api&amp;#34;, &amp;#34;config&amp;#34;); //报错 查了下，发现正则要用两个斜杆\\，所以改成
String newUrl = oldUrl.replaceAll(&amp;#34;.*\\.api&amp;#34;, &amp;#34;config&amp;#34;) //OK //或者下面的更简单 String newUrl = oldUrl.replaceAll(&amp;#34;.*api&amp;#34;, &amp;#34;config&amp;#34;) //OK 之所以有坑，是因为java里的\有一定含义，反斜杠 \ 在 Java 中表示转义字符
这里例举两个特别重要的用法：
在匹配 . 或 { 或 [ 或 ( 或 ? 或 $ 或 ^ 或 * 这些特殊字符时，需要在前面加上 \\，比如匹配 . 时，Java 中要写为 \\.，但对于正则表达式来说就是 \. 在匹配 \ 时，Java 中要写为 \\\\，但对于正则表达式来说就是 \\ 其他类似\d在Java里要写成\\d Java 中的正则表达式字符串有两层含义，首先 Java 字符串转义出符合正则表达式语法的字符串，然后再由转义后的正则表达式进行模式匹配</description></item></channel></rss>