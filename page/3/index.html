<!doctype html><html lang=en-us><head><title>Blog</title>
<meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content><meta name=generator content="Hugo 0.124.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon><link href=/index.xml rel=alternate type=application/rss+xml title=Blog><link href=/index.xml rel=feed type=application/rss+xml title=Blog></head><body><nav class=navigation><a href=/posts>Archive</a>
<a href=/tags>Tags</a>
<a href=/about>About</a></nav><main class=main><header class=profile><img class=avatar alt=avatar src=/images/avatar.png><h1>Blog</h1></header><div id=list-page><section class=item><div><h1 class=title><a href=/posts/android%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%B5%84%E6%BA%90%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96/></a></h1><div class=date><time datetime="0001-01-01 00:00:00 +0000 UTC">Jan 1, 0001</time></div></div><div class=summary>ä¸ºä»€ä¹ˆè¦å†™è¿™ä¸€ç¯‡éšç¬”å‘¢ï¼Ÿæœ€è¿‘åšé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°å¾ˆå¤šé¡µé¢åœ¨è¦æ˜¾ç¤ºæ–‡æœ¬æ—¶ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å›ºå®šçš„æ–‡æœ¬ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯åŠ¨æ€è·å–çš„ï¼Œå¹¶ä¸”æ ¼å¼å„å¼å„æ ·ã€‚ä¸€å¼€å§‹é‡‡å–æ¯”è¾ƒç¬¨çš„åŠæ³•ï¼ŒæŠŠä»–æ‹†åˆ†æˆä¸€ä¸ªä¸ªæ–‡æœ¬æ§ä»¶ï¼Œç„¶åå¯¹ä¸åŒçš„æ§ä»¶é‡‡ç”¨ä¸åŒçš„æ ·å¼ã€‚è¿™æ ·åšæ•ˆç‡
å¾ˆä½ï¼Œå¹¶ä¸”æ–‡æœ¬ä¹‹é—´çš„å¯¹é½æ˜¯ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œåæ¥åˆ°ç½‘ä¸Šå¯»æ±‚å¸®åŠ©ï¼Œæ‰¾åˆ°ä¸€äº›æœ‰å…³Androidå­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²èµ„æºæ ¼å¼åŒ–çš„æ–‡ç« ï¼Œåœ¨æ­¤åšä¸€ä¸ªæ€»ç»“ã€‚
ä¸€.å­—ç¬¦ä¸²æ ¼å¼åŒ–
Javaçš„Stringç±»ç»™æˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªé‡è½½çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å ä½ç¬¦çš„æ–¹å¼ï¼Œå‘å›ºå®šå­—ç¬¦ä¸²ä¸­ä¼ å…¥å‚æ•°ã€‚ä»–ä»¬åˆ†åˆ«æ˜¯ï¼š
format(String format, Objectâ€¦ args) æ–°å­—ç¬¦ä¸²ä½¿ç”¨æœ¬åœ°è¯­è¨€ç¯å¢ƒï¼Œåˆ¶å®šå­—ç¬¦ä¸²æ ¼å¼å’Œå‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„æ–°å­—ç¬¦ä¸²ã€‚
format(Locale locale, String format, Objectâ€¦ args) ä½¿ç”¨æŒ‡å®šçš„è¯­è¨€ç¯å¢ƒï¼Œåˆ¶å®šå­—ç¬¦ä¸²æ ¼å¼å’Œå‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ã€‚
ä¾‹å¦‚ï¼š
å­—ç¬¦ä¸²å ä½ç¬¦%s ï¼šSystem.out.println(â€œHi,%sâ€, â€œç‹åŠ›â€)Â è¾“å‡ºÂ Hi,ç‹åŠ›
åè¿›åˆ¶æ•´å½¢å ä½ç¬¦%d ï¼šSystem.out.println(â€œæˆ‘ä»Šå¹´%då²â€, 20)Â è¾“å‡ºÂ æˆ‘ä»Šå¹´20å²
æµ®ç‚¹å‹å ä½ç¬¦%fï¼šSystem.out.println(â€œè”æçš„ä»·æ ¼æ˜¯ %f å…ƒâ€, 3.5)Â è¾“å‡º è”æçš„ä»·æ ¼æ˜¯3.5å…ƒ
è¿˜æœ‰å…¶ä»–å­—ç¬¦å‹ï¼Œæ•´å½¢ï¼Œæ—¥æœŸæ ¼å¼ç­‰ç­‰æ ¼å¼åŒ–æ–¹æ³•ï¼Œå†æ¬¡å°±ä¸ä¸€ä¸€ä¸¾ä¾‹äº†ã€‚
äºŒ.å¸¦HTMLæ ‡ç­¾çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–
å½“æˆ‘ä»¬éœ€è¦å¯¹ä¸€æ®µæ–‡å­—çš„éƒ¨åˆ†æ–‡å­—è¿›è¡Œå­—ä½“é¢œè‰²ï¼Œå­—å½¢ï¼Œå­—ä½“é£æ ¼è®¾ç½®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨HTMLæ ‡ç­¾ï¼Œç„¶ååœ¨è¾“å‡ºçš„æ—¶å€™ï¼Œé€šè¿‡Html.fromæ–¹æ³•è§£æä¸ºhtmlå­—ç¬¦ä¸²ã€‚
ä¾‹å¦‚ï¼š
String str = "åé¢çš„æ–‡å­—æ˜¯åŠ ç²—çš„çº¢è‰²æ–‡å­—ï¼š" + "&lt;font color='#ff0000'>&lt;b>åŠ ç²—çº¢è‰²æ–‡å­—&lt;/b>&lt;/font>"; CharseQuenceÂ cq=Html.from(str); textView.setText(cq); ç¬¬ä¸€ç§æƒ…å½¢å’Œç¬¬äºŒç§æƒ…å½¢å¯ä»¥ç»“åˆèµ·æ¥ä½¿ç”¨ï¼š
String str = "åé¢çš„æ–‡å­—æ˜¯åŠ ç²—çš„çº¢è‰²æ–‡å­—ï¼š" + "&lt;font color='#ff0000'>&lt;b>%s&lt;/b>&lt;/font>"; String str2=String.format(str,"çº¢è‰²åŠ ç²—æ–‡å­—"); è¾“å‡ºä¸ä¸Šé¢ä¸€æ ·.
ä¸‰.å­—ç¬¦ä¸²èµ„æºçš„æ ¼å¼åŒ–
æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²èµ„æºä¸­åŒæ ·å¯ä»¥é€šè¿‡å ä½ç¬¦æ¥ç»™å­—ç¬¦ä¸²ä¼ å…¥å‚æ•°ï¼Œä¸è¿‡ä¸ç¬¬ä¸€ç§æ–¹å¼ç›¸æ¯”ï¼Œå ä½ç¬¦çš„æ ¼å¼ç•¥æœ‰ä¸åŒ
æˆ‘ä»¬ä½¿ç”¨%[index]$[type]æ ¼å¼è¿›è¡Œæ ‡è®°ï¼Œindexæ ‡è®°æ›¿æ¢èµ„æºä¸­ç¬¬indexä¸ªèµ„æºå¯¹åº”çš„ä½ç½®ï¼Œtypeåˆ™æ ‡ç¤ºæ‰€è¦æ›¿æ¢çš„èµ„æºçš„ç±»å‹ï¼ˆsè¡¨ç¤ºèµ„æºä¸ºå­—ç¬¦ä¸²æ ¼å¼ï¼‰
ä¾‹å¦‚ï¼š
&lt;resources> &lt;string name=â€œhelloâ€>Hello World, my name is %1$s!&lt;/string> &lt;string name=â€œapp_nameâ€>MyString&lt;/string> &lt;/resources></div></section><section class=item><div><h1 class=title><a href=/posts/activity%E6%BA%90%E5%A4%B4%E6%8E%A2%E7%A9%B6/>Activityæºå¤´æ¢ç©¶</a></h1><div class=date><time datetime="0001-01-01 00:00:00 +0000 UTC">Jan 1, 0001</time></div></div><div class=summary>ç–‘é—® ğŸ”— å¼€å‘ä¸­é€šè¿‡ startActivity() åˆ›å»º Activity å¯¹è±¡åˆ°åº•è¢«è°æŒæœ‰å¼•ç”¨äº†ï¼Ÿ æ–°å¯åŠ¨çš„ Activity å¯¹è±¡åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­ç†åº”æ˜¯ä¸€ç›´è¢«æŒæœ‰å¼•ç”¨ï¼Œä¸ç„¶ç³»ç»Ÿ gc çš„æ—¶å€™å°±ä¼šè¢«å›æ”¶æ‰ï¼Œé‚£ä¹ˆå…¶ä¸­çš„å¼•ç”¨å…³ç³»æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ Activity å¯¹è±¡çš„åˆ›å»º ğŸ”—Activity çš„åˆ›å»ºä¼šå›è°ƒåˆ° ActivityThread ä¸­çš„ handleLaunchActivity() æ–¹æ³•ï¼š
frameworks/base/core/java/android/app/ActivityThread.java:
@Override public Activity handleLaunchActivity(ActivityClientRecord r, PendingTransactionActions pendingActions, Intent customIntent){ Â·Â·Â· final Activity a = performLaunchActivity(r, customIntent); Â·Â·Â· return a; } æ¥ç€åœ¨ performLaunchActivity() æ–¹æ³•é‡Œæ‰¾åˆ°äº† Acitivity å®ä¾‹çš„åˆ›å»ºï¼š
private Activity performLaunchActivity(ActivityClientRecord r, Intent customIntent) { Â·Â·Â· ContextImpl appContext = createBaseContextForActivity(r); Activity activity = null; try { // æ³¨è§£1ï¼šé€šè¿‡ ClassLoader ä»¥åŠç›®æ ‡ Activity çš„ç±»åæ¥åˆ›å»ºæ–°çš„ Activity å®ä¾‹ java.</div></section><div class=pagination><span class=prev><a href=/page/2/><span class=arrow>â†</span> Newer posts</a></span></div></div></main><footer id=footer><div class=copyright>Â© Copyright
2024
<span class=split><svg fill="#bbb" width="15" height="15" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M13.91 6.75c-1.17 2.25-4.3 5.31-6.07 6.94-.1903.1718-.4797.1718-.67.0C5.39 12.06 2.26 9 1.09 6.75-1.48 1.8 5-1.5 7.5 3.45 10-1.5 16.48 1.8 13.91 6.75z"/></svg></span></div><div class=powerby>Powered by <a href=http://www.gohugo.io/>Hugo</a> Theme By <a href=https://github.com/nodejh/hugo-theme-mini>nodejh</a></div></footer></body></html>